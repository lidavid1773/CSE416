{"ast":null,"code":"var _jsxFileName = \"/Users/yoyo/CSE416/frontend/src/components/EditMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-draw';\nimport \"leaflet-draw/dist/leaflet.draw-src.css\";\nimport localgeojson from \"..ukraine.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Map() {\n  _s();\n  // const [map, setMap] = useState(null);\n  const [geojson, setgeojson] = useState(null);\n  var map;\n  useEffect(() => {\n    const fetchData = async () => {\n      if (localgeojson) {\n        setgeojson(localgeojson);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (geojson) {\n      map = L.map('map', {\n        // drawControl: true,\n      });\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors'\n      }).addTo(map);\n      // geojsonLayer = L.geoJson(geojson).addTo(map);\n      // geojsonLayer.eachLayer(layer => {\n      //   if (layer instanceof L.Polyline) {\n      //     layer.enableEdit();\n      //   }\n      // });\n      // geojsonLayer = L.geoJson(geojson, { \n      //                           onEachFeature: function popUp(features, layer) { selectVerticesMode(features, layer); } \n      //                         }).addTo(map);\n      var drawnItems = new L.FeatureGroup();\n      geojson.features.forEach(function (currentFeature) {\n        var polygon = L.polygon(L.GeoJSON.coordsToLatLngs(currentFeature.geometry.coordinates[0])).addTo(map);\n        // polygon.enableEdit();\n        map.fitBounds(polygon.getBounds());\n        drawnItems.addLayer(polygon);\n      });\n      map.addLayer(drawnItems);\n      var drawControl = new L.Control.Draw({\n        draw: false,\n        edit: {\n          featureGroup: drawnItems\n        }\n      });\n      ;\n      map.addControl(drawControl);\n      // const bounds = geojsonLayer.getBounds();\n      // map.fitBounds(bounds);\n      // vertexLayer = L.layerGroup();\n      // map.addLayer(vertexLayer);\n    }\n  }, [geojson]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    style: {\n      height: '600px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 10\n  }, this);\n}\n_s(Map, \"9kBu8btovQpUkTX7gX21dVELXu0=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useState","L","localgeojson","jsxDEV","_jsxDEV","Map","_s","geojson","setgeojson","map","fetchData","tileLayer","attribution","addTo","drawnItems","FeatureGroup","features","forEach","currentFeature","polygon","GeoJSON","coordsToLatLngs","geometry","coordinates","fitBounds","getBounds","addLayer","drawControl","Control","Draw","draw","edit","featureGroup","addControl","id","style","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yoyo/CSE416/frontend/src/components/EditMap.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-draw';\nimport \"leaflet-draw/dist/leaflet.draw-src.css\";\nimport localgeojson from \"..ukraine.json\";\n\nfunction Map() {\n  // const [map, setMap] = useState(null);\n  const [geojson, setgeojson] = useState(null);\n  var map;\n \n  useEffect(() => {\n    const fetchData = async () => {\n      if (localgeojson) {\n        setgeojson(localgeojson);\n      }\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (geojson) {\n      map = L.map('map', {\n        // drawControl: true,\n      });\n     \n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors',\n      }).addTo(map);\n      // geojsonLayer = L.geoJson(geojson).addTo(map);\n      // geojsonLayer.eachLayer(layer => {\n      //   if (layer instanceof L.Polyline) {\n      //     layer.enableEdit();\n      //   }\n      // });\n      // geojsonLayer = L.geoJson(geojson, { \n      //                           onEachFeature: function popUp(features, layer) { selectVerticesMode(features, layer); } \n      //                         }).addTo(map);\n      var drawnItems = new L.FeatureGroup();\n      geojson.features.forEach(function(currentFeature){\n          var polygon = L.polygon(L.GeoJSON.coordsToLatLngs(currentFeature.geometry.coordinates[0])).addTo(map);\n          // polygon.enableEdit();\n          map.fitBounds(polygon.getBounds());\n          drawnItems.addLayer(polygon);\n      });\n      map.addLayer(drawnItems); \n      var drawControl = new L.Control.Draw({\n        draw: false,\n        edit: {\n            featureGroup: drawnItems\n        }\n      });;\n      map.addControl(drawControl);\n      // const bounds = geojsonLayer.getBounds();\n      // map.fitBounds(bounds);\n      // vertexLayer = L.layerGroup();\n      // map.addLayer(vertexLayer);\n    }\n  }, [geojson]);\n\n  return <div id=\"map\" style={{ height: '600px' }} />;\n}\n\nexport default Map;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AACjC,OAAO,cAAc;AACrB,OAAO,wCAAwC;AAC/C,OAAOC,YAAY,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAC5C,IAAIS,GAAG;EAEPV,SAAS,CAAC,MAAM;IACd,MAAMW,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAIR,YAAY,EAAE;QAChBM,UAAU,CAACN,YAAY,CAAC;MAC1B;IACF,CAAC;IACDQ,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAENX,SAAS,CAAC,MAAM;IACd,IAAIQ,OAAO,EAAE;MACXE,GAAG,GAAGR,CAAC,CAACQ,GAAG,CAAC,KAAK,EAAE;QACjB;MAAA,CACD,CAAC;MAEFR,CAAC,CAACU,SAAS,CAAC,oDAAoD,EAAE;QAChEC,WAAW,EAAE;MACf,CAAC,CAAC,CAACC,KAAK,CAACJ,GAAG,CAAC;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,IAAIK,UAAU,GAAG,IAAIb,CAAC,CAACc,YAAY,EAAE;MACrCR,OAAO,CAACS,QAAQ,CAACC,OAAO,CAAC,UAASC,cAAc,EAAC;QAC7C,IAAIC,OAAO,GAAGlB,CAAC,CAACkB,OAAO,CAAClB,CAAC,CAACmB,OAAO,CAACC,eAAe,CAACH,cAAc,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAACV,KAAK,CAACJ,GAAG,CAAC;QACrG;QACAA,GAAG,CAACe,SAAS,CAACL,OAAO,CAACM,SAAS,EAAE,CAAC;QAClCX,UAAU,CAACY,QAAQ,CAACP,OAAO,CAAC;MAChC,CAAC,CAAC;MACFV,GAAG,CAACiB,QAAQ,CAACZ,UAAU,CAAC;MACxB,IAAIa,WAAW,GAAG,IAAI1B,CAAC,CAAC2B,OAAO,CAACC,IAAI,CAAC;QACnCC,IAAI,EAAE,KAAK;QACXC,IAAI,EAAE;UACFC,YAAY,EAAElB;QAClB;MACF,CAAC,CAAC;MAAC;MACHL,GAAG,CAACwB,UAAU,CAACN,WAAW,CAAC;MAC3B;MACA;MACA;MACA;IACF;EACF,CAAC,EAAE,CAACpB,OAAO,CAAC,CAAC;EAEb,oBAAOH,OAAA;IAAK8B,EAAE,EAAC,KAAK;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAQ;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;AACrD;AAAClC,EAAA,CAvDQD,GAAG;AAAAoC,EAAA,GAAHpC,GAAG;AAyDZ,eAAeA,GAAG;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}